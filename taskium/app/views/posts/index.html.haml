%h1 Course Notes

.posts
  - @posts.each do |post|
    .post
      .post-title
        %h2=link_to post.title, post
        %span.post-author
          by #{post.user.name}
      .post-updated= "on #{post.updated_at.strftime('%A %B, %d')}"
      .post-content= post.content
      .post-category
        %span.sub-title Category: 
        = post.category.name
      .post-tags
        %span.sub-title Tags: 
        - post.tags.each do |tag|
          = tag.name 
      .posts-comments
        - if @user
          %span.add-comment= link_to 'Add a comment', new_post_comment_path(post)
          |
        - if post.comments.length > 0
          %span.comments-control= pluralize(post.comments.length, 'Comment')
        - if post.comments.length == 0
          %span No comments

        %ul.posts-comments-list
          = render :partial => 'comments/comment', :collection => post.comments
